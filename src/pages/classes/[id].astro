---
import Item from "../../components/Item.astro";
import Layout from "../../layouts/Layout.astro";
import { getData } from "../../utils/getData";

type Data = {
  description: string;
  image: string;
  id: string;
  name: string;
  stats: Stats;
};

type Stats = {
  level: string;
  vigor: string;
  mind: string;
  endurance: string;
  strength: string;
  dexterity: string;
  intelligence: string;
  faith: string;
  arcane: string;
};

export async function getStaticPaths() {
  const data = await getData("classes");

  return data?.map(({ description, image, id, name, stats }: Data) => {
    return {
      params: { id },
      props: {
        description,
        image,
        name,
        stats,
      },
    };
  });
}
---

<Layout pageTitle={Astro.props.name} title={Astro.props.name}>
  <Item {...Astro.props} />
</Layout>
